package <%= packageName %>.config.dbmigrations;

import java.util.Arrays;
import java.util.List;

import org.springframework.data.mongodb.core.MongoTemplate;

import <%= packageName %>.domain.Note;
import <%= packageName %>.repository.NotesRepository;

import io.mongock.api.annotations.ChangeUnit;
import io.mongock.api.annotations.Execution;
import io.mongock.api.annotations.RollbackExecution;


@ChangeUnit(id="notes-initialization", order = "001")
public class NotesInitialDataMigration {

    private final NotesRepository notesRepository;

    public NotesInitialDataMigration(NotesRepository notesRepository) {
        this.notesRepository = notesRepository;
    }

    @Execution
    public void changeSet() {
        List<Note> notes = createNotes();
        notesRepository.saveAll(notes);
    }

    @RollbackExecution
    public void rollback() {
    }

    private List<Note> createNotes() {
        Note note1 = new Note();
        note1.setId(1l);
        note1.setSubject("Meeting with Client");
        note1.setDescription("Discuss project requirements and timelines with the client.");

        Note note2 = new Note();
        note2.setId(2l);
        note2.setSubject("Research and Development");
        note2.setDescription("Conduct research on the latest technologies for project development.");

        Note note3 = new Note();
        note3.setId(3l);
        note3.setSubject("Team Collaboration");
        note3.setDescription("Collaborate with team members to enhance project collaboration and communication.");

        Note note4 = new Note();
        note4.setId(4l);
        note4.setSubject("Task Prioritization");
        note4.setDescription("Prioritize tasks for the upcoming sprint based on project goals.");

        Note note5 = new Note();
        note5.setId(5l);
        note5.setSubject("Bug Fixing Session");
        note5.setDescription("Identify and fix bugs reported during the testing phase.");

        Note note6 = new Note();
        note6.setId(6l);
        note6.setSubject("Training Workshop");
        note6.setDescription("Conduct a workshop to train team members on new tools and technologies.");

        Note note7 = new Note();
        note7.setId(7l);
        note7.setSubject("Monthly Review Meeting");
        note7.setDescription("Review project progress and discuss any challenges faced during the month.");

        Note note8 = new Note();
        note8.setId(8l);
        note8.setSubject("Documentation Update");
        note8.setDescription("Update project documentation to reflect recent changes and improvements.");
        
        return Arrays.asList(note1, note2, note3, note4, note5, note6, note7, note8);
    }
    
}
